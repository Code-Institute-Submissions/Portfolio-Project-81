{% extends "base.html" %}

{% block content %}

<div class="row">
  <div class="col-12 col-sm-12 col-md-8 col-lg-6 col-xl-5 offset-0 offset-md-2 offset-lg-3 offset-xl-3">
    <h1>Edit an Article:</h1>
    <form method="POST">
      {% csrf_token %}
      <p>
        <label for="id_title">Title:</label>
        <input type="text" maxlength="100" id="id_title" name="article_title" value="{{ article.title }}" required>
      </p>
      <p>
        <label for="id_author">Author:</label>
        <input type="text" id="id_author" name="article_author" value="{{ user.username }}" readonly>
      </p>
      <div class="mb-3">
        <label for="id_description" class="form-label">Description:</label>
        <textarea class="form-control" rows="3" id="id_description" name="article_description" maxlength="300"
          required>{{ article.description | safe }}</textarea>
      </div>
      <div class="mb-3">
        <label for="id_content" class="form-label">Content:</label>
        <textarea class="form-control" rows="5" id="id_content" name="article_content"
          required>{{ article.content | safe }}</textarea>
      </div>
      <p>After submitting this form, your contribution will be graphically edited by an administrator (paragraphs,
        bold text, italics for names, if appropriate, lists, tables, etc.). The content will not be changed in the
        process.</p>
      <p>Please do not forget to mention sources or references at the end of the article if the written information does
        not come from yourself.</p>
      <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#editModal">
        Edit Article
      </button>

      <!-- Modal -->
      <div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="editModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="exampleModalLabel">Are you sure you want to edit and publish this
                article?
              </h1>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              Your article will not be checked again by an administrator, please make sure it is correct.
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button type="submit" class="btn btn-primary">Edit Article</button>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>

{%endblock%}